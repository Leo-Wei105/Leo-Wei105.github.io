<!DOCTYPE html>
<html lang="zh-CN" x-data="{ 
    darkMode: localStorage.getItem('darkMode') === 'true' || (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches),
    currentCategory: 'all',
    showSidebar: false,
    showDrawer: false,
    searchQuery: '',
    searchTopQuery: '',
    drawerSearchQuery: '',
    drawerTab: 'favorites',
    toggleDarkMode() {
        this.darkMode = !this.darkMode;
        localStorage.setItem('darkMode', this.darkMode);
    },
    sortBy: 'hot'
}" :class="darkMode ? 'dark' : ''">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevNav - 程序员专属导航站</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Alpine.js -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.10.2/cdn.min.js"></script>
    <style>
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .bg-pattern {
            background-color: #f9fafb;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23cbd5e0' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .dark .bg-pattern {
            background-color: #1a202c;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%234a5568' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* 暗色模式过渡效果 */
        .dark * {
            transition-property: color, background-color, border-color;
            transition-duration: 200ms;
            transition-timing-function: ease-in-out;
        }

        /* 自定义滚动条样式 */
        .dark ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .dark ::-webkit-scrollbar-track {
            background: #1a202c;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 4px;
        }

        .dark ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }

        /* 选中文本的样式 */
        .dark ::selection {
            background: #4a5568;
            color: #fff;
        }

        .dark body {
            background-color: #111827;
            color: #e5e7eb;
        }

        .dark .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .dark .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .dark .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        @media (prefers-color-scheme: dark) {
            .dark img {
                filter: brightness(.8) contrast(1.2);
            }
        }

        .drawer-transition {
            transition-property: transform, opacity;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }

        .drawer-enter {
            transform: translateX(100%);
        }

        .drawer-enter-active {
            transform: translateX(0);
        }

        .drawer-leave {
            transform: translateX(0);
        }

        .drawer-leave-active {
            transform: translateX(100%);
        }
    </style>
</head>

<body x-data="mainData()" x-init="init()" class="bg-pattern transition-colors duration-300">
    <!-- 顶部导航栏 -->
    <nav class="bg-white dark:bg-gray-800 shadow-md transition-colors duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="#" class="flex items-center">
                            <i class="fas fa-code text-indigo-600 dark:text-indigo-400 text-2xl mr-2"></i>
                            <span class="font-bold text-xl text-gray-800 dark:text-white">DevNav</span>
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#" @click.prevent="currentCategory = 'all'"
                                :class="currentCategory === 'all' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                                class="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">全部</a>
                            <a href="#" @click.prevent="currentCategory = 'docs'"
                                :class="currentCategory === 'docs' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                                class="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">文档</a>
                            <a href="#" @click.prevent="currentCategory = 'tools'"
                                :class="currentCategory === 'tools' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                                class="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">工具</a>
                            <a href="#" @click.prevent="currentCategory = 'learn'"
                                :class="currentCategory === 'learn' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                                class="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">学习</a>
                            <a href="#" @click.prevent="currentCategory = 'community'"
                                :class="currentCategory === 'community' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                                class="px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">社区</a>
                        </div>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="relative mx-4 hidden md:block">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-gray-400"></i>
                        </div>
                        <input x-model="searchTopQuery" @keydown.enter="handleSearch($event)"
                            class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                            placeholder="搜索资源...">
                    </div>
                    <button @click="toggleDarkMode()"
                        class="p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none transition-colors duration-200">
                        <i x-show="!darkMode" class="fas fa-moon"></i>
                        <i x-show="darkMode" class="fas fa-sun"></i>
                    </button>
                    <button @click="showSidebar = !showSidebar"
                        class="md:hidden p-2 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none transition-colors duration-200">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 移动端侧边栏 -->
    <div x-show="showSidebar" class="md:hidden fixed inset-0 z-40 flex">
        <div @click="showSidebar = false" x-show="showSidebar"
            x-transition:enter="transition-opacity ease-linear duration-300" x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100" x-transition:leave="transition-opacity ease-linear duration-300"
            x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
            class="fixed inset-0 bg-gray-600 bg-opacity-75"></div>
        <div x-show="showSidebar" x-transition:enter="transition ease-in-out duration-300 transform"
            x-transition:enter-start="-translate-x-full" x-transition:enter-end="translate-x-0"
            x-transition:leave="transition ease-in-out duration-300 transform" x-transition:leave-start="translate-x-0"
            x-transition:leave-end="-translate-x-full"
            class="relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-gray-800 transition-colors duration-300">
            <div class="pt-5 pb-4">
                <div class="flex items-center justify-between px-4">
                    <div class="flex items-center">
                        <i class="fas fa-code text-indigo-600 dark:text-indigo-400 text-2xl mr-2"></i>
                        <span class="font-bold text-xl text-gray-800 dark:text-white">DevNav</span>
                    </div>
                    <button @click="showSidebar = false"
                        class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mt-5 px-2 space-y-1">
                    <a href="#" @click.prevent="currentCategory = 'all'; showSidebar = false"
                        :class="currentCategory === 'all' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                        class="block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">全部</a>
                    <a href="#" @click.prevent="currentCategory = 'docs'; showSidebar = false"
                        :class="currentCategory === 'docs' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                        class="block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">文档</a>
                    <a href="#" @click.prevent="currentCategory = 'tools'; showSidebar = false"
                        :class="currentCategory === 'tools' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                        class="block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">工具</a>
                    <a href="#" @click.prevent="currentCategory = 'learn'; showSidebar = false"
                        :class="currentCategory === 'learn' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                        class="block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">学习</a>
                    <a href="#" @click.prevent="currentCategory = 'community'; showSidebar = false"
                        :class="currentCategory === 'community' ? 'bg-indigo-500 text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-indigo-100 dark:hover:bg-gray-700'"
                        class="block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200">社区</a>
                </div>
            </div>
        </div>
    </div>

    <!-- 主体内容 -->
    <div @keydown.escape.window="showDrawer = false" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- 欢迎区域 -->
        <div
            class="bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 rounded-lg shadow-lg p-6 mb-8">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="mb-4 md:mb-0 md:mr-6">
                    <h1 class="text-2xl md:text-3xl font-bold text-white mb-2">欢迎使用 DevNav</h1>
                    <p class="text-indigo-100 mb-4">发现、收集和组织你的编程资源</p>
                    <div class="flex space-x-2">
                        <button @click="openAddModal"
                            class="bg-white dark:bg-gray-700 text-indigo-600 dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-gray-600 font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                            <i class="fas fa-plus mr-2"></i>添加资源
                        </button>
                        <button @click="showDrawer = true"
                            class="bg-indigo-700 dark:bg-indigo-800 text-white hover:bg-indigo-800 dark:hover:bg-indigo-900 font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                            <i class="fas fa-cog mr-2"></i>管理
                        </button>
                        <button @click="exportCards()"
                            class="bg-indigo-700 dark:bg-indigo-800 text-white hover:bg-indigo-800 dark:hover:bg-indigo-900 font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                            <i class="fas fa-file-export mr-2"></i>导出
                        </button>
                        <input type="file" id="importFile" accept=".json" class="hidden" @change="importCards($event)">
                        <button @click="document.getElementById('importFile').click()"
                            class="bg-indigo-700 dark:bg-indigo-800 text-white hover:bg-indigo-800 dark:hover:bg-indigo-900 font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                            <i class="fas fa-file-import mr-2"></i>导入
                        </button>
                        <button @click="downloadTemplate()"
                            class="bg-indigo-700 dark:bg-indigo-800 text-white hover:bg-indigo-800 dark:hover:bg-indigo-900 font-medium py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                            <i class="fas fa-file-download mr-2"></i>模板
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 分类标签栏 -->
        <div class="mb-6 flex items-center justify-between">
            <div class="flex overflow-x-auto py-2 hide-scrollbar">
                <button @click="currentCategory = 'all'"
                    :class="currentCategory === 'all' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-globe mr-2"></i>全部
                </button>
                <button @click="currentCategory = 'frontend'"
                    :class="currentCategory === 'frontend' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-code mr-2"></i>前端开发
                </button>
                <button @click="currentCategory = 'backend'"
                    :class="currentCategory === 'backend' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-server mr-2"></i>后端开发
                </button>
                <button @click="currentCategory = 'mobile'"
                    :class="currentCategory === 'mobile' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-mobile-alt mr-2"></i>移动开发
                </button>
                <button @click="currentCategory = 'devops'"
                    :class="currentCategory === 'devops' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-cogs mr-2"></i>DevOps
                </button>
                <button @click="currentCategory = 'ai'"
                    :class="currentCategory === 'ai' ? 'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'"
                    class="flex items-center px-4 py-2 rounded-full text-sm font-medium mr-2 whitespace-nowrap transition-colors duration-200 hover:bg-indigo-50 dark:hover:bg-gray-600">
                    <i class="fas fa-brain mr-2"></i>AI & ML
                </button>
            </div>
            <div class="hidden md:flex items-center">
                <span class="text-gray-600 dark:text-gray-400 text-sm mr-2">排序: </span>
                <select x-model="sortBy"
                    class="bg-gray-100 dark:bg-gray-700 border-none rounded text-sm text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 py-1 px-2 transition-colors duration-200">
                    <option value="hot">热门程度</option>
                    <option value="newest">最新添加</option>
                    <option value="alphabet">字母顺序</option>
                </select>
            </div>
        </div>

        <!-- 搜索框 -->
        <div class="mb-6">
            <div class="relative">
                <input type="text" x-model="searchQuery"
                    class="w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                    placeholder="搜索卡片...">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                    <i class="fas fa-search text-gray-400"></i>
                </div>
            </div>
        </div>

        <!-- 资源卡片网格 -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <template x-for="card in filteredCards()" :key="card.id">
                <div
                    class="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-all duration-300 transform hover:shadow-lg dark:hover:shadow-2xl dark:shadow-gray-900 card-hover">
                    <div class="p-4 flex flex-col justify-between h-full">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center">
                                <div
                                    :class="card.iconBg + ' dark:bg-opacity-20 w-10 h-10 rounded-lg flex items-center justify-center mr-3'">
                                    <i :class="card.icon + ' ' + card.iconColor + ' dark:text-opacity-80'"></i>
                                </div>
                                <h3 class="font-medium text-gray-800 dark:text-white" x-text="card.title"></h3>
                            </div>
                            <button @click="toggleFavorite(card)"
                                :class="card.isFavorite ? 'text-yellow-500' : 'text-gray-400'"
                                class="hover:text-yellow-600 transition-colors duration-200">
                                <i :class="card.isFavorite ? 'fas fa-star' : 'far fa-star'"></i>
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-3 flex-1" x-text="card.description"></p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <template x-for="tag in card.tags" :key="tag">
                                <span
                                    class="bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-xs px-2 py-1 rounded"
                                    x-text="tag"></span>
                            </template>
                        </div>
                        <div class="flex justify-between items-center">
                            <a :href="card.url" target="_blank"
                                class="w-full bg-gray-50 dark:bg-gray-700 text-indigo-600 dark:text-indigo-400 px-4 py-2 rounded hover:bg-indigo-50 dark:hover:bg-gray-600 transition-colors duration-200 text-center">
                                访问网站
                            </a>
                        </div>
                    </div>
                </div>
            </template>
        </div>

        <!-- 收藏夹侧边栏 -->
        <div x-show="showDrawer" class="fixed inset-0 overflow-hidden z-50" style="display: none;"
            @keydown.escape.window="showDrawer = false">
            <div class="absolute inset-0 overflow-hidden">
                <!-- 背景遮罩 -->
                <div class="absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity" x-show="showDrawer"
                    x-transition:enter="ease-in-out duration-300" x-transition:enter-start="opacity-0"
                    x-transition:enter-end="opacity-100" x-transition:leave="ease-in-out duration-300"
                    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
                    @click="showDrawer = false"></div>

                <section class="absolute inset-y-0 right-0 pl-10 max-w-full flex">
                    <div class="relative w-96" x-show="showDrawer"
                        x-transition:enter="transform transition ease-in-out duration-300"
                        x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0"
                        x-transition:leave="transform transition ease-in-out duration-300"
                        x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full">

                        <div class="h-full bg-white dark:bg-gray-800 shadow-xl overflow-y-auto">
                            <div class="px-4 py-6">
                                <div class="flex items-center justify-between">
                                    <h2 class="text-lg font-medium text-gray-900 dark:text-white">卡片管理</h2>
                                    <button @click="showDrawer = false" class="text-gray-400 hover:text-gray-500">
                                        <span class="sr-only">关闭面板</span>
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>

                                <!-- 管理选项卡 -->
                                <div class="mt-4">
                                    <nav class="flex space-x-4" aria-label="Tabs">
                                        <button @click="drawerTab = 'favorites'"
                                            :class="drawerTab === 'favorites' ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200' : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300'"
                                            class="px-3 py-2 font-medium text-sm rounded-md">
                                            <i class="fas fa-star mr-2"></i>收藏夹
                                        </button>
                                        <button @click="drawerTab = 'all'"
                                            :class="drawerTab === 'all' ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200' : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300'"
                                            class="px-3 py-2 font-medium text-sm rounded-md">
                                            <i class="fas fa-list mr-2"></i>全部卡片
                                        </button>
                                    </nav>
                                </div>

                                <div class="mt-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <div class="relative flex-1">
                                            <input type="text" x-model="drawerSearchQuery"
                                                class="w-full bg-gray-100 dark:bg-gray-700 border-none rounded-lg py-2 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                                                :placeholder="drawerTab === 'favorites' ? '搜索收藏...' : '搜索所有卡片...'">
                                            <div
                                                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                                <i class="fas fa-search text-gray-400"></i>
                                            </div>
                                        </div>
                                        <button @click="openAddModal"
                                            class="ml-4 bg-indigo-600 text-white p-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="mt-6 space-y-4">
                                    <template
                                        x-for="card in drawerTab === 'favorites' ? filteredDrawerCards() : filteredAllCards()"
                                        :key="card.id">
                                        <div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg">
                                            <div class="flex items-center justify-between mb-3">
                                                <div class="flex items-center">
                                                    <div
                                                        :class="card.iconBg + ' w-10 h-10 rounded flex items-center justify-center mr-3'">
                                                        <i :class="card.icon + ' ' + card.iconColor"></i>
                                                    </div>
                                                    <div>
                                                        <h3 class="text-sm font-medium text-gray-900 dark:text-white"
                                                            x-text="card.title"></h3>
                                                        <p class="text-xs text-gray-500 dark:text-gray-400"
                                                            x-text="card.description"></p>
                                                    </div>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <button @click="editCard(card)"
                                                        class="text-blue-500 hover:text-blue-600 transition-colors duration-200">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button @click="deleteCard(card.id)"
                                                        class="text-red-500 hover:text-red-600 transition-colors duration-200">
                                                        <i class="fas fa-trash-alt"></i>
                                                    </button>
                                                    <button @click="toggleFavorite(card)"
                                                        :class="card.isFavorite ? 'text-yellow-500' : 'text-gray-400'"
                                                        class="hover:text-yellow-600">
                                                        <i :class="card.isFavorite ? 'fas fa-star' : 'far fa-star'"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="flex flex-wrap gap-2">
                                                <template x-for="tag in card.tags" :key="tag">
                                                    <span
                                                        class="bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-xs px-2 py-1 rounded"
                                                        x-text="tag"></span>
                                                </template>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- 编辑卡片模态框 -->
        <div x-show="showEditModal" class="fixed inset-0 overflow-y-auto z-50" x-cloak>
            <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                    <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
                </div>
                <div
                    class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full">
                    <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
                                <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6">
                                    编辑卡片
                                </h3>
                                <div class="grid grid-cols-2 gap-6">
                                    <!-- 左列 -->
                                    <div class="space-y-4">
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                标题
                                            </label>
                                            <input type="text" x-model="editingCard.title"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2">
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                描述
                                            </label>
                                            <textarea x-model="editingCard.description"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                rows="3"></textarea>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                URL
                                            </label>
                                            <input type="url" x-model="editingCard.url"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2">
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                标签（用逗号分隔）
                                            </label>
                                            <input type="text" x-model="editingCard.tagsInput"
                                                @input="editingCard.tags = editingCard.tagsInput.split(',').map(tag => tag.trim()).filter(tag => tag !== '')"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                placeholder="输入标签，用逗号分隔">
                                        </div>
                                    </div>
                                    <!-- 右列 -->
                                    <div class="space-y-4">
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                分类（可多选）
                                            </label>
                                            <div class="grid grid-cols-2 gap-2">
                                                <template
                                                    x-for="cat in ['docs', 'tools', 'learn', 'community', 'frontend', 'backend', 'devops', 'ai']">
                                                    <label
                                                        class="inline-flex items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200">
                                                        <input type="checkbox" :value="cat"
                                                            x-model="editingCard.categories"
                                                            class="form-checkbox h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:border-gray-500">
                                                        <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                                                            x-text="({
                                                            'docs': '文档',
                                                            'tools': '工具',
                                                            'learn': '学习',
                                                            'community': '社区',
                                                            'frontend': '前端开发',
                                                            'backend': '后端开发',
                                                            'devops': 'DevOps',
                                                            'ai': '人工智能'
                                                        })[cat]"></span>
                                                    </label>
                                                </template>
                                            </div>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                图标
                                            </label>
                                            <div class="space-y-4">
                                                <div class="relative">
                                                    <input type="text" x-model="editingCard.customIcon"
                                                        class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                        placeholder="输入自定义图标类名(例如: fas fa-code)">
                                                    <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                        支持 Font Awesome 图标，格式如：fas fa-code
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-6 gap-2">
                                                    <template
                                                        x-for="icon in ['fas fa-link', 'fas fa-book', 'fas fa-code', 'fas fa-tools', 'fas fa-graduation-cap', 'fas fa-users', 'fas fa-server', 'fas fa-database', 'fas fa-mobile-alt', 'fas fa-laptop-code', 'fas fa-brain', 'fas fa-cloud']">
                                                        <label
                                                            class="inline-flex items-center justify-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200"
                                                            :class="{'border-indigo-500 dark:border-indigo-400': editingCard.icon === icon}">
                                                            <input type="radio" :value="icon" x-model="editingCard.icon"
                                                                class="hidden" @change="editingCard.customIcon = icon">
                                                            <i :class="icon + ' text-lg ' + editingCard.iconColor"></i>
                                                        </label>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                图标颜色
                                            </label>
                                            <div class="space-y-4">
                                                <div class="relative">
                                                    <input type="text" x-model="editingCard.customIconColor"
                                                        class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                        placeholder="输入自定义颜色类名(例如: text-blue-600)">
                                                    <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                        支持 Tailwind 颜色类名，格式如：text-blue-600
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-4 gap-2">
                                                    <template x-for="color in [
                                                        {bg: 'bg-blue-100', text: 'text-blue-600'},
                                                        {bg: 'bg-green-100', text: 'text-green-600'},
                                                        {bg: 'bg-red-100', text: 'text-red-600'},
                                                        {bg: 'bg-yellow-100', text: 'text-yellow-600'},
                                                        {bg: 'bg-purple-100', text: 'text-purple-600'},
                                                        {bg: 'bg-pink-100', text: 'text-pink-600'},
                                                        {bg: 'bg-indigo-100', text: 'text-indigo-600'},
                                                        {bg: 'bg-gray-100', text: 'text-gray-600'}
                                                    ]">
                                                        <label
                                                            class="inline-flex items-center justify-center p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200"
                                                            :class="[color.bg, {'border-indigo-500 dark:border-indigo-400': editingCard.iconBg === color.bg}]">
                                                            <input type="radio" x-model="editingCard.iconBg"
                                                                :value="color.bg" class="hidden"
                                                                @change="editingCard.iconColor = color.text; editingCard.customIconColor = color.text">
                                                            <i :class="editingCard.icon + ' text-lg ' + color.text"></i>
                                                        </label>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 flex justify-end space-x-3">
                        <button type="button" @click="showEditModal = false"
                            class="inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
                            取消
                        </button>
                        <button type="button" @click="saveCard()"
                            class="inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
                            保存
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 添加卡片模态框 -->
        <div x-show="showAddModal" class="fixed inset-0 overflow-y-auto z-50" x-cloak>
            <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                    <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
                </div>
                <div
                    class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full">
                    <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
                                <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-6">
                                    添加卡片
                                </h3>
                                <div class="grid grid-cols-2 gap-6">
                                    <!-- 左列 -->
                                    <div class="space-y-4">
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                标题
                                            </label>
                                            <input type="text" x-model="newCard.title"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2">
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                描述
                                            </label>
                                            <textarea x-model="newCard.description"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                rows="3"></textarea>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                URL
                                            </label>
                                            <input type="url" x-model="newCard.url"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2">
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                标签（用逗号分隔）
                                            </label>
                                            <input type="text" x-model="newCard.tagsInput"
                                                @input="newCard.tags = newCard.tagsInput.split(',').map(tag => tag.trim()).filter(tag => tag !== '')"
                                                class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                placeholder="输入标签，用逗号分隔">
                                        </div>
                                    </div>
                                    <!-- 右列 -->
                                    <div class="space-y-4">
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                分类（可多选）
                                            </label>
                                            <div class="grid grid-cols-2 gap-2">
                                                <template
                                                    x-for="cat in ['docs', 'tools', 'learn', 'community', 'frontend', 'backend', 'devops', 'ai']">
                                                    <label
                                                        class="inline-flex items-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200">
                                                        <input type="checkbox" :value="cat" x-model="newCard.categories"
                                                            class="form-checkbox h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:border-gray-500">
                                                        <span class="ml-2 text-sm text-gray-700 dark:text-gray-300"
                                                            x-text="({
                                                            'docs': '文档',
                                                            'tools': '工具',
                                                            'learn': '学习',
                                                            'community': '社区',
                                                            'frontend': '前端开发',
                                                            'backend': '后端开发',
                                                            'devops': 'DevOps',
                                                            'ai': '人工智能'
                                                        })[cat]"></span>
                                                    </label>
                                                </template>
                                            </div>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                图标
                                            </label>
                                            <div class="space-y-4">
                                                <div class="relative">
                                                    <input type="text" x-model="newCard.customIcon"
                                                        class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                        placeholder="输入自定义图标类名(例如: fas fa-code)">
                                                    <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                        支持 Font Awesome 图标，格式如：fas fa-code
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-6 gap-2">
                                                    <template
                                                        x-for="icon in ['fas fa-link', 'fas fa-book', 'fas fa-code', 'fas fa-tools', 'fas fa-graduation-cap', 'fas fa-users', 'fas fa-server', 'fas fa-database', 'fas fa-mobile-alt', 'fas fa-laptop-code', 'fas fa-brain', 'fas fa-cloud']">
                                                        <label
                                                            class="inline-flex items-center justify-center bg-gray-50 dark:bg-gray-700 p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200"
                                                            :class="{'border-indigo-500 dark:border-indigo-400': newCard.icon === icon}">
                                                            <input type="radio" :value="icon" x-model="newCard.icon"
                                                                class="hidden">
                                                            <i :class="icon + ' text-lg ' + newCard.iconColor"></i>
                                                        </label>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <label
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                                                图标颜色
                                            </label>
                                            <div class="space-y-4">
                                                <div class="relative">
                                                    <input type="text" x-model="newCard.customIconColor"
                                                        class="block w-full rounded-lg border-2 border-gray-200 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 dark:bg-gray-700 dark:text-white text-base px-4 py-2"
                                                        placeholder="输入自定义颜色类名(例如: text-blue-600)">
                                                    <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                        支持 Tailwind 颜色类名，格式如：text-blue-600
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-4 gap-2">
                                                    <template x-for="color in [
                                                        {bg: 'bg-blue-100', text: 'text-blue-600'},
                                                        {bg: 'bg-green-100', text: 'text-green-600'},
                                                        {bg: 'bg-red-100', text: 'text-red-600'},
                                                        {bg: 'bg-yellow-100', text: 'text-yellow-600'},
                                                        {bg: 'bg-purple-100', text: 'text-purple-600'},
                                                        {bg: 'bg-pink-100', text: 'text-pink-600'},
                                                        {bg: 'bg-indigo-100', text: 'text-indigo-600'},
                                                        {bg: 'bg-gray-100', text: 'text-gray-600'}
                                                    ]">
                                                        <label
                                                            class="inline-flex items-center justify-center p-2 rounded-lg border border-gray-200 dark:border-gray-600 cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors duration-200"
                                                            :class="[color.bg, {'border-indigo-500 dark:border-indigo-400': newCard.iconBg === color.bg}]">
                                                            <input type="radio" x-model="newCard.iconBg"
                                                                :value="color.bg" class="hidden"
                                                                @change="newCard.iconColor = color.text; newCard.customIconColor = color.text">
                                                            <i :class="newCard.icon + ' text-lg ' + color.text"></i>
                                                        </label>
                                                    </template>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 flex justify-end space-x-3">
                        <button type="button" @click="showAddModal = false"
                            class="inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
                            取消
                        </button>
                        <button type="button" @click="addCard()"
                            class="inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm">
                            添加
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 搜索结果模态框 -->
        <div x-show="showSearchModal" class="fixed inset-0 overflow-y-auto z-50" x-cloak>
            <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <div class="fixed inset-0 transition-opacity" aria-hidden="true">
                    <div class="absolute inset-0 bg-gray-500 opacity-75"></div>
                </div>
                <div
                    class="inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full">
                    <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-3 text-center sm:mt-0 sm:text-left w-full">
                                <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white mb-4">
                                    搜索结果: <span x-text="searchTopQuery"></span>
                                </h3>
                                <div class="mt-4 space-y-4 max-h-96 overflow-y-auto">
                                    <template x-for="card in searchResults" :key="card.id">
                                        <div
                                            class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200">
                                            <div class="flex items-center justify-between mb-2">
                                                <div class="flex items-center">
                                                    <div
                                                        :class="card.iconBg + ' w-8 h-8 rounded flex items-center justify-center mr-3'">
                                                        <i :class="card.icon + ' ' + card.iconColor"></i>
                                                    </div>
                                                    <h4 class="font-medium text-gray-900 dark:text-white"
                                                        x-text="card.title"></h4>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <button @click="window.open(card.url, '_blank')"
                                                        class="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300">
                                                        <i class="fas fa-external-link-alt"></i>
                                                    </button>
                                                    <button @click="toggleFavorite(card)"
                                                        :class="card.isFavorite ? 'text-yellow-500' : 'text-gray-400'"
                                                        class="hover:text-yellow-600">
                                                        <i :class="card.isFavorite ? 'fas fa-star' : 'far fa-star'"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-300 mb-2"
                                                x-text="card.description"></p>
                                            <div class="flex flex-wrap gap-2">
                                                <template x-for="tag in card.tags" :key="tag">
                                                    <span
                                                        class="bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 text-xs px-2 py-1 rounded"
                                                        x-text="tag"></span>
                                                </template>
                                            </div>
                                        </div>
                                    </template>
                                    <div x-show="searchResults.length === 0"
                                        class="text-center text-gray-500 dark:text-gray-400 py-8">
                                        未找到匹配的资源
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 px-4 py-3 sm:px-6 flex justify-end">
                        <button type="button" @click="showSearchModal = false"
                            class="bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 px-4 py-2 rounded-md text-sm font-medium focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            关闭
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 页脚 -->
        <footer
            class="bg-white dark:bg-gray-800 mt-12 border-t border-gray-200 dark:border-gray-700 transition-colors duration-300">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="flex items-center mb-4 md:mb-0">
                        <i class="fas fa-code text-indigo-600 dark:text-indigo-400 text-2xl mr-2"></i>
                        <span class="font-bold text-xl text-gray-800 dark:text-white">DevNav</span>
                    </div>
                    <div class="flex space-x-6">
                        <a href="https://github.com/Leo-Wei105" target="_blank"
                            class="text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors duration-200">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#"
                            class="text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors duration-200">
                            <i class="fab fa-weibo"></i>
                        </a>
                        <a href="#"
                            class="text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors duration-200">
                            <i class="fab fa-zhihu"></i>
                        </a>
                    </div>
                </div>
                <div class="mt-4 text-center text-sm text-gray-500 dark:text-gray-400">
                    &copy; 2025 DevNav. 所有权利保留。
                </div>
            </div>
        </footer>
    </div>

    <!-- IndexDB 数据库管理 -->
    <script>
        // IndexDB 数据库管理
        const dbName = 'devNavDB';
        const dbVersion = 1;
        let db;

        // 初始化数据库
        const initDB = () => {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(dbName, dbVersion);

                request.onerror = () => reject('数据库打开失败');
                request.onsuccess = (event) => {
                    db = event.target.result;
                    resolve(db);
                };

                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains('cards')) {
                        const cardsStore = db.createObjectStore('cards', { keyPath: 'id', autoIncrement: true });
                        cardsStore.createIndex('categories', 'categories', { unique: false, multiEntry: true });
                        cardsStore.createIndex('isFavorite', 'isFavorite', { unique: false });
                        cardsStore.createIndex('title', 'title', { unique: false });

                        cardsStore.transaction.oncomplete = () => {
                            const transaction = db.transaction(['cards'], 'readwrite');
                            const objectStore = transaction.objectStore('cards');

                            initialCards.forEach(card => {
                                const cardToAdd = {
                                    ...card,
                                    id: Date.now() + Math.random(),
                                    createTime: new Date().toISOString(),
                                    updateTime: new Date().toISOString()
                                };
                                objectStore.add(cardToAdd);
                            });
                        };
                    }
                };
            });
        };

        // 初始卡片数据
        const initialCards = [
            {
                title: 'MDN Web Docs',
                description: 'Web 技术权威文档，包含 HTML、CSS、JavaScript 详细参考',
                icon: 'fas fa-book',
                iconBg: 'bg-green-100',
                iconColor: 'text-green-600',
                categories: ['docs', 'frontend'],
                tags: ['文档', '前端', 'Web'],
                url: 'https://developer.mozilla.org',
                isFavorite: false,
                createTime: new Date().toISOString(),
                updateTime: new Date().toISOString()
            },
            {
                title: 'GitHub',
                description: '全球最大的代码托管平台',
                icon: 'fab fa-github',
                iconBg: 'bg-gray-100',
                iconColor: 'text-gray-600',
                categories: ['tools', 'devops'],
                tags: ['代码托管', '开源', '版本控制'],
                url: 'https://github.com',
                isFavorite: false,
                createTime: new Date().toISOString(),
                updateTime: new Date().toISOString()
            },
            {
                title: 'Stack Overflow',
                description: '最受欢迎的程序员问答社区',
                icon: 'fab fa-stack-overflow',
                iconBg: 'bg-orange-100',
                iconColor: 'text-orange-600',
                categories: ['community', 'learn'],
                tags: ['问答', '社区', '编程'],
                url: 'https://stackoverflow.com',
                isFavorite: false,
                createTime: new Date().toISOString(),
                updateTime: new Date().toISOString()
            },
            {
                title: 'VS Code',
                description: '微软出品的强大代码编辑器',
                icon: 'fas fa-code',
                iconBg: 'bg-blue-100',
                iconColor: 'text-blue-600',
                categories: ['tools', 'frontend', 'backend'],
                tags: ['编辑器', 'IDE', '开发工具'],
                url: 'https://code.visualstudio.com',
                isFavorite: false,
                createTime: new Date().toISOString(),
                updateTime: new Date().toISOString()
            }
        ];

        // Alpine.js 数据和方法
        function mainData() {
            return {
                cards: [],
                selectedCard: null,
                currentCategory: 'all',
                searchQuery: '',
                drawerSearchQuery: '',
                showEditModal: false,
                showAddModal: false,
                showSearchModal: false,
                searchResults: [],

                editingCard: {
                    id: null,
                    title: '',
                    description: '',
                    url: '',
                    categories: [],
                    icon: 'fas fa-link',
                    iconBg: 'bg-blue-100',
                    iconColor: 'text-blue-600',
                    customIcon: '',
                    customIconColor: '',
                    tags: ['未分类'],
                    tagsInput: '未分类',
                    isFavorite: false,
                    createTime: null,
                    updateTime: null
                },
                newCard: {
                    title: '',
                    description: '',
                    url: '',
                    categories: [],
                    icon: 'fas fa-link',
                    iconBg: 'bg-blue-100',
                    iconColor: 'text-blue-600',
                    customIcon: '',
                    customIconColor: '',
                    tags: ['未分类'],
                    tagsInput: '未分类',
                    isFavorite: false
                },

                validateIcon(icon) {
                    // 验证 Font Awesome 图标格式
                    const iconRegex = /^(fa[bsrl]?)\s+(fa-[a-z0-9-]+)$/;
                    return iconRegex.test(icon);
                },

                validateColor(color) {
                    // 验证 Tailwind 颜色类名格式
                    const colorRegex = /^text-(red|blue|green|yellow|purple|pink|indigo|gray)-(100|200|300|400|500|600|700|800|900)$/;
                    return colorRegex.test(color);
                },

                openAddModal() {
                    this.newCard = {
                        title: '',
                        description: '',
                        url: '',
                        categories: [],
                        icon: 'fas fa-link',
                        iconBg: 'bg-blue-100',
                        iconColor: 'text-blue-600',
                        customIcon: '',
                        customIconColor: '',
                        tags: ['未分类'],
                        tagsInput: '未分类',
                        isFavorite: false
                    };
                    this.showAddModal = true;
                },

                async addCard() {
                    try {
                        if (this.newCard.customIcon && !this.validateIcon(this.newCard.customIcon)) {
                            alert('图标格式不正确，请使用正确的 Font Awesome 格式，例如：fas fa-code');
                            return;
                        }

                        if (this.newCard.customIconColor && !this.validateColor(this.newCard.customIconColor)) {
                            alert('颜色格式不正确，请使用正确的 Tailwind 颜色格式，例如：text-blue-600');
                            return;
                        }

                        const tags = this.newCard.tagsInput
                            ? this.newCard.tagsInput.split(',').map(tag => tag.trim()).filter(Boolean)
                            : ['未分类'];

                        const finalIcon = this.newCard.customIcon || this.newCard.icon;
                        const finalIconColor = this.newCard.customIconColor || this.newCard.iconColor;

                        const cardToAdd = {
                            title: this.newCard.title || '',
                            description: this.newCard.description || '',
                            url: this.newCard.url || '',
                            categories: Array.isArray(this.newCard.categories) ? [...this.newCard.categories] : [],
                            icon: finalIcon,
                            iconBg: this.newCard.iconBg || 'bg-blue-100',
                            iconColor: finalIconColor,
                            tags: tags,
                            isFavorite: Boolean(this.newCard.isFavorite),
                            id: Date.now() + Math.random(),
                            createTime: new Date().toISOString(),
                            updateTime: new Date().toISOString()
                        };

                        const transaction = db.transaction(['cards'], 'readwrite');
                        const objectStore = transaction.objectStore('cards');
                        await objectStore.add(cardToAdd);

                        await this.loadCards();
                        this.showAddModal = false;
                        this.resetNewCard();
                    } catch (error) {
                        alert('添加卡片失败，请检查输入数据是否正确。');
                    }
                },

                async init() {
                    try {
                        await initDB();
                        await this.loadCards();
                    } catch (error) {
                        alert('初始化失败，请刷新页面重试。');
                    }
                },

                async loadCards() {
                    try {
                        const transaction = db.transaction(['cards'], 'readonly');
                        const objectStore = transaction.objectStore('cards');
                        const request = objectStore.getAll();

                        return new Promise((resolve, reject) => {
                            request.onsuccess = () => {
                                this.cards = request.result.map(card => ({
                                    ...card,
                                    createTime: new Date(card.createTime),
                                    updateTime: new Date(card.updateTime)
                                }));
                                resolve();
                            };
                            request.onerror = () => reject();
                        });
                    } catch (error) {
                        alert('加载卡片失败，请刷新页面重试。');
                    }
                },

                filteredCards() {
                    if (!this.cards) return [];

                    const searchLower = this.searchQuery.toLowerCase().trim();

                    return this.cards.filter(card => {
                        // 分类过滤
                        if (this.currentCategory !== 'all' &&
                            (!card.categories || !card.categories.includes(this.currentCategory))) {
                            return false;
                        }

                        // 搜索过滤
                        if (searchLower) {
                            return (
                                (card.title && card.title.toLowerCase().includes(searchLower)) ||
                                (card.description && card.description.toLowerCase().includes(searchLower)) ||
                                (card.tags && card.tags.some(tag => tag.toLowerCase().includes(searchLower))) ||
                                (card.categories && card.categories.some(cat => cat.toLowerCase().includes(searchLower)))
                            );
                        }

                        return true;
                    }).sort((a, b) => {
                        switch (this.sortBy) {
                            case 'hot':
                                return b.isFavorite - a.isFavorite ||
                                    new Date(b.updateTime) - new Date(a.updateTime);
                            case 'newest':
                                return new Date(b.createTime) - new Date(a.createTime);
                            case 'alphabet':
                                return (a.title || '').localeCompare(b.title || '', 'zh-CN');
                            default:
                                return 0;
                        }
                    });
                },

                filteredDrawerCards() {
                    if (!this.cards) return [];
                    const searchLower = this.drawerSearchQuery.toLowerCase();

                    return this.cards.filter(card =>
                        card.isFavorite &&
                        (!searchLower ||
                            card.title.toLowerCase().includes(searchLower) ||
                            card.description.toLowerCase().includes(searchLower))
                    );
                },

                filteredAllCards() {
                    if (!this.cards) return [];
                    const searchLower = this.drawerSearchQuery.toLowerCase();

                    return this.cards.filter(card =>
                        !searchLower ||
                        card.title.toLowerCase().includes(searchLower) ||
                        card.description.toLowerCase().includes(searchLower)
                    );
                },

                async toggleFavorite(card) {
                    try {
                        const updatedCard = {
                            ...card,
                            isFavorite: !card.isFavorite,
                            updateTime: new Date().toISOString()
                        };

                        const transaction = db.transaction(['cards'], 'readwrite');
                        const objectStore = transaction.objectStore('cards');
                        await objectStore.put(updatedCard);

                        const index = this.cards.findIndex(c => c.id === card.id);
                        if (index !== -1) {
                            this.cards[index] = {
                                ...updatedCard,
                                createTime: new Date(updatedCard.createTime),
                                updateTime: new Date(updatedCard.updateTime)
                            };
                        }
                    } catch (error) {
                        alert('更新收藏状态失败，请重试。');
                    }
                },

                async deleteCard(id) {
                    if (confirm('确定要删除这张卡片吗？')) {
                        try {
                            const transaction = db.transaction(['cards'], 'readwrite');
                            const objectStore = transaction.objectStore('cards');
                            const request = objectStore.delete(id);

                            request.onsuccess = () => {
                                this.loadCards();
                            };

                            request.onerror = () => {
                                console.error('删除卡片失败');
                            };
                        } catch (error) {
                            console.error('删除卡片失败:', error);
                        }
                    }
                },

                editCard(card) {
                    if (!card) {
                        console.error('编辑的卡片数据为空');
                        return;
                    }

                    // 重置编辑状态
                    this.editingCard = {
                        id: card.id || Date.now(),
                        title: card.title || '',
                        description: card.description || '',
                        url: card.url || '',
                        categories: Array.isArray(card.categories) ? [...card.categories] : [],
                        icon: card.icon || 'fas fa-link',
                        iconBg: card.iconBg || 'bg-blue-100',
                        iconColor: card.iconColor || 'text-blue-600',
                        customIcon: card.customIcon || '',
                        customIconColor: card.customIconColor || '',
                        tags: Array.isArray(card.tags) ? [...card.tags] : ['未分类'],
                        tagsInput: Array.isArray(card.tags) ? card.tags.join(', ') : '未分类',
                        isFavorite: Boolean(card.isFavorite),
                        createTime: card.createTime || new Date().toISOString(),
                        updateTime: card.updateTime || new Date().toISOString()
                    };

                    console.log('正在编辑的卡片:', this.editingCard);
                    this.showEditModal = true;
                },

                async saveCard() {
                    try {
                        if (!this.editingCard) {
                            console.error('没有要保存的卡片数据');
                            return;
                        }

                        // 验证自定义图标和颜色
                        if (this.editingCard.customIcon && !this.validateIcon(this.editingCard.customIcon)) {
                            alert('图标格式不正确，请使用正确的 Font Awesome 格式，例如：fas fa-code');
                            return;
                        }

                        if (this.editingCard.customIconColor && !this.validateColor(this.editingCard.customIconColor)) {
                            alert('颜色格式不正确，请使用正确的 Tailwind 颜色格式，例如：text-blue-600');
                            return;
                        }

                        // 处理标签
                        const tags = this.editingCard.tagsInput
                            ? this.editingCard.tagsInput.split(',').map(tag => tag.trim()).filter(tag => tag !== '')
                            : ['未分类'];

                        // 使用自定义值或默认值
                        const finalIcon = this.editingCard.customIcon || this.editingCard.icon;
                        const finalIconColor = this.editingCard.customIconColor || this.editingCard.iconColor;

                        // 确保所有属性都有值
                        const updatedCard = {
                            id: this.editingCard.id || Date.now(),
                            title: this.editingCard.title || '',
                            description: this.editingCard.description || '',
                            url: this.editingCard.url || '',
                            categories: Array.isArray(this.editingCard.categories) ? [...this.editingCard.categories] : [],
                            icon: finalIcon,
                            iconBg: this.editingCard.iconBg || 'bg-blue-100',
                            iconColor: finalIconColor,
                            tags: tags,
                            isFavorite: Boolean(this.editingCard.isFavorite),
                            createTime: this.editingCard.createTime || new Date().toISOString(),
                            updateTime: new Date().toISOString()
                        };

                        console.log('准备保存更新后的卡片:', updatedCard);

                        const transaction = db.transaction(['cards'], 'readwrite');
                        const objectStore = transaction.objectStore('cards');
                        const request = objectStore.put(updatedCard);

                        request.onsuccess = () => {
                            console.log('成功更新卡片');
                            this.loadCards();
                            // 先重置editingCard为初始状态
                            this.editingCard = {
                                id: null,
                                title: '',
                                description: '',
                                url: '',
                                categories: [],
                                icon: 'fas fa-link',
                                iconBg: 'bg-blue-100',
                                iconColor: 'text-blue-600',
                                customIcon: '',
                                customIconColor: '',
                                tags: ['未分类'],
                                tagsInput: '未分类',
                                isFavorite: false,
                                createTime: null,
                                updateTime: null
                            };
                            // 最后关闭模态框
                            this.showEditModal = false;
                        };

                        request.onerror = (error) => {
                            console.error('更新卡片失败:', error);
                            alert('更新卡片失败，请检查输入数据是否正确。');
                        };
                    } catch (error) {
                        console.error('保存卡片失败:', error);
                        alert('保存卡片失败，请检查输入数据是否正确。');
                    }
                },

                handleSearch(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();

                        if (!this.searchTopQuery.trim()) return;

                        // 执行搜索
                        this.searchResults = this.cards.filter(card => {
                            const searchLower = this.searchTopQuery.toLowerCase().trim();
                            return (card.title && card.title.toLowerCase().includes(searchLower)) ||
                                (card.description && card.description.toLowerCase().includes(searchLower)) ||
                                (card.tags && card.tags.some(tag => tag.toLowerCase().includes(searchLower))) ||
                                (card.categories && card.categories.some(cat => cat.toLowerCase().includes(searchLower)));
                        });

                        // 显示搜索结果模态框
                        this.showSearchModal = true;
                    }
                },

                exportCards() {
                    try {
                        // 准备导出数据
                        const exportData = {
                            version: '1.0',
                            exportDate: new Date().toISOString(),
                            cards: this.cards.map(card => ({
                                ...card,
                                createTime: card.createTime instanceof Date ? card.createTime.toISOString() : card.createTime,
                                updateTime: card.updateTime instanceof Date ? card.updateTime.toISOString() : card.updateTime
                            }))
                        };

                        // 转换为JSON字符串
                        const jsonStr = JSON.stringify(exportData, null, 2);

                        // 创建Blob对象
                        const blob = new Blob([jsonStr], { type: 'application/json' });

                        // 创建下载链接
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `devnav-cards-${new Date().toISOString().slice(0, 10)}.json`;

                        // 触发下载
                        document.body.appendChild(a);
                        a.click();

                        // 清理
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);

                        alert('导出成功！');
                    } catch (error) {
                        console.error('导出失败:', error);
                        alert('导出失败，请查看控制台了解详细信息。');
                    }
                },

                async importCards(event) {
                    try {
                        const file = event.target.files[0];
                        if (!file) {
                            alert('请选择要导入的文件');
                            return;
                        }

                        // 读取文件内容
                        const reader = new FileReader();
                        reader.onload = async (e) => {
                            try {
                                const importData = JSON.parse(e.target.result);

                                // 验证导入数据格式
                                if (!importData.cards || !Array.isArray(importData.cards)) {
                                    throw new Error('无效的导入数据格式');
                                }

                                // 开始导入
                                const transaction = db.transaction(['cards'], 'readwrite');
                                const objectStore = transaction.objectStore('cards');

                                let successCount = 0;
                                let failCount = 0;

                                for (const card of importData.cards) {
                                    try {
                                        // 为每张卡片生成新的ID
                                        const newCard = {
                                            ...card,
                                            id: Date.now() + Math.random(),
                                            createTime: new Date().toISOString(),
                                            updateTime: new Date().toISOString()
                                        };

                                        await new Promise((resolve, reject) => {
                                            const request = objectStore.add(newCard);
                                            request.onsuccess = () => resolve();
                                            request.onerror = () => reject();
                                        });

                                        successCount++;
                                    } catch (error) {
                                        console.error('导入单张卡片失败:', error);
                                        failCount++;
                                    }
                                }

                                // 重新加载卡片
                                await this.loadCards();

                                // 清空文件输入
                                event.target.value = '';

                                alert(`导入完成！\n成功: ${successCount} 张\n失败: ${failCount} 张`);
                            } catch (error) {
                                console.error('处理导入数据失败:', error);
                                alert('导入失败，请确保文件格式正确。');
                            }
                        };

                        reader.readAsText(file);
                    } catch (error) {
                        console.error('导入失败:', error);
                        alert('导入失败，请查看控制台了解详细信息。');
                    }
                },

                downloadTemplate() {
                    try {
                        // 创建模板数据
                        const templateData = {
                            version: '1.0',
                            exportDate: new Date().toISOString(),
                            cards: [
                                {
                                    title: '示例卡片',
                                    description: '这是一个示例卡片，用于展示卡片数据的结构',
                                    icon: 'fas fa-star',
                                    iconBg: 'bg-yellow-100',
                                    iconColor: 'text-yellow-600',
                                    categories: ['docs', 'frontend'],
                                    tags: ['示例', '模板'],
                                    url: 'https://example.com',
                                    isFavorite: false
                                }
                            ]
                        };

                        // 转换为JSON字符串
                        const jsonStr = JSON.stringify(templateData, null, 2);

                        // 创建Blob对象
                        const blob = new Blob([jsonStr], { type: 'application/json' });

                        // 创建下载链接
                        const url = window.URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = 'devnav-template.json';

                        // 触发下载
                        document.body.appendChild(a);
                        a.click();

                        // 清理
                        window.URL.revokeObjectURL(url);
                        document.body.removeChild(a);

                        alert('模板下载成功！');
                    } catch (error) {
                        console.error('模板下载失败:', error);
                        alert('模板下载失败，请查看控制台了解详细信息。');
                    }
                },

                resetNewCard() {
                    this.newCard = {
                        title: '',
                        description: '',
                        url: '',
                        categories: [],
                        icon: 'fas fa-link',
                        iconBg: 'bg-blue-100',
                        iconColor: 'text-blue-600',
                        customIcon: '',
                        customIconColor: '',
                        tags: ['未分类'],
                        tagsInput: '未分类',
                        isFavorite: false
                    };
                }
            };
        }
    </script>
</body>

</html>